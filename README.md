# Beware!

Docvim is a work in progress. It doesn't actually do anything useful yet.

In the meantime, here is some autogenerated dummy-text for you to read:

> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam sit amet mi non urna vehicula imperdiet. Nulla tincidunt vehicula erat. Nulla sodales gravida arcu, in bibendum sem fringilla sagittis. Curabitur eget lorem ullamcorper, consequat erat vitae, rutrum odio. Vivamus fermentum lorem ante, ut imperdiet dui iaculis in. Donec quis ante placerat, porttitor massa id, luctus augue. Integer sapien elit, mattis non porta a, rutrum eget eros. Mauris ipsum nisi, porta at aliquam sed, viverra ac magna. Aliquam et consequat justo. Suspendisse at orci id erat dictum efficitur nec vel massa. Ut sollicitudin, quam at condimentum maximus, leo arcu aliquet massa, non rutrum metus justo nec velit. Aenean tincidunt ipsum eu urna ultricies facilisis. Cras et ex turpis.
>
> Mauris tempor, nunc eget ultricies malesuada, purus elit porta neque, a blandit orci arcu vitae nunc. Proin molestie tempor pellentesque. Cras ac aliquam arcu. Mauris mattis lorem eu gravida bibendum. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum lacus ligula, tincidunt sit amet porttitor eget, porttitor id urna. Donec sodales gravida imperdiet. Nulla odio felis, luctus lacinia velit sit amet, pretium cursus diam. Nulla a ultricies ante. Praesent egestas eros ac ex porttitor, quis facilisis velit vulputate. Vestibulum dictum, nulla vitae hendrerit mattis, dolor risus convallis nunc, sit amet eleifend mi erat in ante. Mauris nec vehicula eros. Curabitur dapibus dolor id tristique auctor. Fusce commodo elit nec risus vulputate vulputate.
>
> Mauris eros nunc, faucibus et tincidunt sed, fringilla et nulla. Sed quam velit, fermentum non dignissim a, consectetur eget sapien. Mauris laoreet ornare dui quis laoreet. Cras lectus velit, tempor vulputate est vel, maximus sodales nulla. Proin vitae neque sit amet dolor porta facilisis in vitae orci. Suspendisse enim magna, ullamcorper id molestie suscipit, pulvinar tempor lectus. Mauris mi mi, feugiat id augue efficitur, laoreet varius nunc. Proin suscipit euismod aliquam. Donec quis mi ut massa sagittis rhoncus.
>
> Duis libero lorem, porttitor non libero et, dapibus interdum sapien. Nullam laoreet ante sit amet convallis mattis. Curabitur vitae nulla porta, sagittis lacus in, consequat nunc. Aliquam cursus elementum pretium. Fusce consequat interdum elit et tempus. Nullam nec neque eget ex tempor dapibus dignissim ac odio. Nunc consectetur sem eu nibh dictum fringilla. In volutpat molestie magna, congue mattis lorem rutrum ut. Donec malesuada, odio a cursus consectetur, metus augue tincidunt nulla, ut accumsan augue quam in turpis.
>
> Praesent fringilla viverra vestibulum. Curabitur commodo, ex tempor posuere sodales, eros nisi blandit odio, ut venenatis dui libero in enim. Nunc semper turpis eget laoreet mollis. Pellentesque luctus massa ut metus volutpat, a lacinia diam pellentesque. Sed eget odio ullamcorper, faucibus metus a, porttitor quam. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Maecenas vehicula, quam a molestie maximus, ligula ligula porttitor purus, non mattis velit velit ac lacus. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Fusce porttitor tristique ligula, vel imperdiet turpis ultrices non. Etiam condimentum mi ligula.

# docvim: a documentation generator for Vim plug-ins

docvim is a documentation generator for Vim plug-ins, written in Haskell.

## Development

### Set-up

You can set-up a development environment using [Stack] (recommended) or [Cabal]:

```bash
# Stack:
brew install haskell-stack
stack build

# Cabal:
brew install cabal-install
cabal sandbox init
cabal install --only-dependencies --enable-tests
cabal build
```

### Running

Run using `stack exec` (or `cabal run`) and passing in docvim-specific `OPTIONS`:

```bash
# Stack:
stack exec docvim [OPTIONS]

# Cabal:
cabal run -- [OPTIONS]
```

You can also run the modules from inside the REPL:

```bash
# Stack:
stack repl
> pp "let l:test=1" -- pretty-prints AST

# Cabal:
cabal repl`
> import Docvim.Parse
> pp "let l:test=1" -- pretty-prints AST
```

### Building and viewing the code-level documentation

```bash
# Stack:
stack haddock
open .stack-work/dist/x86_64-osx/Cabal-1.22.5.0/doc/html/docvim/index.html

# Cabal:
cabal haddock --executables
open dist/doc/html/docvim/docvim/index.html
```

### Testing

```bash
# Stack:
stack test

# Cabal:
cabal test
```

### Linting

```bash
# Stack:
stack test              # Runs linter as part of overall suite.
stack test :hlint       # Runs the linter alone.

# Cabal:
cabal install hlint     # (First-time only).
cabal test              # Runs linter as part of overall suite.
cabal test hlint        # Runs linter alone.

hlint src               # If you have HLint installed under $PATH.
```

## FAQ

### Why a new tool and not an existing one like [Vimdoc]?

* I wanted to target multiple output formats (Vim help files and Markdown).
* I wanted total control over the presentation of the output.
* It's fun to build new things from scratch.
* The project is a great fit for my learn-me-a-Haskell goal this year.

### Why is it called "Docvim"?

"Vimdoc" was the first name that occurred to me when I started this project, but:

* The number one hit for "vimdoc" is [this online copy of Vim's own documentation](http://vimdoc.sourceforge.net/).
* The name "Vimdoc" is already taken by [a similar project](https://github.com/google/vimdoc).

So, in a remarkable flash of profound creativity, I settled on "Docvim" instead, which right now yields this pleasing search result:

> Did you mean: dacvim

[Cabal]: https://www.haskell.org/cabal/
[Stack]: http://haskellstack.org/
[Vimdoc]: https://github.com/google/vimdoc
